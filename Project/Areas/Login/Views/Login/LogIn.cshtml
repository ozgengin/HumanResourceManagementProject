@using Project.Areas.Login.Models
@model LoginViewModel

@{
    ViewData["Title"] = "Login Page";
}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<div class="login-box">
    <div class="row">
        <div class="col-md-4">
            <section>
                <form id="account" method="post">
                    <h2>Login</h2>

                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="user-box">

                        <input asp-for="Mail" class="form-control loginput" autocomplete="username" aria-required="true" placeholder="Mail" />
                        <span asp-validation-for="Mail" class="text-danger"></span>
                    </div>                   

                    <div class="form-group user-box form-floating">
                        <div class="input-group">
                            <input type="password" class="form-control loginput" id="password" name="password" asp-for="Password" autocomplete="current-password" aria-required="true" placeholder="Password" />

                            <span class="input-group-text" id="togglePassword">
                                <i class="fa fa-eye-slash float-right" style="margin-top:-15px; margin-right:30px; cursor:pointer" aria-hidden="true"></i>
                            </span>

                            <a class="text-warning me-auto" asp-area="PasswordChange"  asp-action="Forgot" asp-controller="PasswordChange">Forgot Password!</a>
                        </div>
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>


                    <div>
                        <button id="login-submit" type="submit" class="w-100 btn btn-lg btn-primary">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            Log in
                        </button>
                    </div>


                </form>

                @if (ViewBag.ErrorMessage != null)
                {
                    <div style="color:red; font-size:larger">@ViewBag.ErrorMessage</div>

                }
            </section>
        </div>
    </div>
</div>
<script src="~/css/jquery/jquery.min.js"></script>
<script src="~/js/popper.js/umd/popper.min.js"></script>
<script src="~/js/bootstrap/js/bootstrap.min.js"></script>

<script>
    var passwordField = document.getElementById("password");
    var toggleButton = document.getElementById("togglePassword");
    var isPasswordVisible = false;

    toggleButton.addEventListener("click", function () {
        if (isPasswordVisible) {
            passwordField.setAttribute("type", "password");
            toggleButton.innerHTML = '<i class="fa fa-eye-slash" aria-hidden="true"></i>';
        } else {
            passwordField.setAttribute("type", "text");
            toggleButton.innerHTML = '<i class="fa fa-eye" aria-hidden="true"></i>';
        }
        isPasswordVisible = !isPasswordVisible;
    });
</script>

@*<script type="text/javascript">
    $(document).ready(function () {
        $("#open").click(function () {
            $("#open").hide();
            $("#close").show();

            $("#password").attr("type", "text");
        });
        $("#close").click(function () {
            $("#close").hide();
            $("#open").show();



            $("#password").attr("type", "password");
        });
    });
</script>*@




